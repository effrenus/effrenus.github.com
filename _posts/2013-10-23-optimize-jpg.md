---
layout: post
title: Оптимизация графических файлов (JPEG) на основе PSNR
---
В одном из видео докладчик предложил идею, как автоматически сжимать jpeg файлы и сравнивать результат
с оригиналом и в качестве метрики применять PSNR (Peak-Signal-to-Noise-Ratio).

Начинаем сравнивать с самого низкого качества (например, 60) и продолжаем до максимума (95), для полученных
изображений получаем PSNR, который сравниваем с пороговым значением (я взял 39, после визуального просмотра).
Если вычисленное значение больше, а размер файла меньше оригинального - копируем файл в текущую директорию и переходим к следующему.

{% gist 7114591 %}