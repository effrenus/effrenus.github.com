---
layout: layout
title: Если требуются координаты границ административных округов
category: blog
tags: ["postgis", "osm", "geo", "coordinates", "dump"]
---
Итак, понадобилось получить координаты всех административных единиц Московской области. задача не новая, значит кто-нибудь да решал её и скорее всего поделился своими находками. Спрашиваем гугл, в результатах обнаруживаем уже все готовое: http://www.gadm.org/country - радостно скачиваю .kmz, открываю в Google Earth. Сразу видно минусы: нет разбивки по регионам, устаревшие данные. М-да, перспектива редактировать границы, состоящих из множества точек, не радует.

==Ищем другое решение==
Какие есть еще варианты?

===Яндекс карты===
Предоставляют данные только по границам регионов, данные берут из OSM

===Wikimapia===
Все устраивает, но я не нашел никакого дампа. А как эти данные выцепить через API не понял.

===OpenStreetMap===
OpenStreetMap - карта, которая редактируется пользоватетями. У проекта есть свой формат XML, с подробной вики по полям.
Есть хорошее описание структуры osm файлов на хабре: 

{% highlight bat %}
	./osmconvert RU.osm.pbf -b=34.9704,54.2109,40.3537,57.0977 --drop-author --complete-ways --complex-ways --drop-version --out-o5m -o=RU_MO.o5m
{% endhighlight %}

{% highlight bat %}
	./osmfilter RU_MO.o5m --keep="admin_level=6" -o=RU_MO_bound.osm
{% endhighlight %}

{% highlight bat %}
	osm2pgsql RU_MO_bound.osm -d osm_db -U postgres -s -S ~/bound.style
{% endhighlight %}